<!DOCTYPE html>
<html lang="en">

<head>
    <title>Rekrutmen | Sisfo Werving Satsiber TNI</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description"
        content="Mantis is made using Bootstrap 5 design framework. Download the free admin template & use it for your project.">
    <meta name="keywords"
        content="Mantis, Dashboard UI Kit, Bootstrap 5, Admin Template, Admin Dashboard, CRM, CMS, Bootstrap Admin Template">
    <meta name="author" content="CodedThemes">

    <link rel="icon" href="../assets/images/logo.png" type="image/x-icon">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap"
        id="main-font-link">
    <link rel="stylesheet" href="../assets/fonts/tabler-icons.min.css">
    <link rel="stylesheet" href="../assets/fonts/feather.css">
    <link rel="stylesheet" href="../assets/fonts/fontawesome.css">
    <link rel="stylesheet" href="../assets/fonts/material.css">
    <link rel="stylesheet" href="../assets/css/style.css" id="main-style-link">
    <link rel="stylesheet" href="../assets/css/style-preset.css">

    <style>
        /* Sembunyikan semua langkah form secara default */
        .form-step {
            display: none;
        }

        /* Tampilkan langkah pertama secara default */
        .form-step.active {
            display: block;
        }

        /* Styles for progress indicator */
        .progress-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 0 20px;
            /* Add some padding to the sides */
        }

        .progress-step {
            flex-grow: 1;
            text-align: center;
            padding: 10px;
            border-bottom: 2px solid #ccc;
            color: #ccc;
            font-weight: bold;
            cursor: pointer;
            /* Make steps clickable for navigation */
        }

        .progress-step.active {
            border-color: #007bff;
            /* Primary color for active step */
            color: #007bff;
        }

        .progress-step.completed {
            border-color: #28a745;
            /* Success color for completed steps */
            color: #28a745;
        }

        .progress-step:not(:last-child) {
            margin-right: 10px;
            /* Space between steps */
        }
    </style>
</head>

<body data-pc-preset="preset-1" data-pc-direction="ltr" data-pc-theme="light">
    <div class="loader-bg">
        <div class="loader-track">
            <div class="loader-fill"></div>
        </div>
    </div>
    <nav class="pc-sidebar">
        <div class="navbar-wrapper">
            <div class="m-header">
                <a href="../dashboard/index.html" class="b-brand text-primary">
                    <img src="../assets/images/logo-dark.svg" class="img-fluid logo-lg" alt="logo">
                </a>
            </div>
            <div class="navbar-content">
                <ul class="pc-navbar">
                    <li class="pc-item">
                        <a href="../dashboard/index.html" class="pc-link">
                            <span class="pc-micon"><i class="ti ti-dashboard"></i></span>
                            <span class="pc-mtext">Dashboard</span>
                        </a>
                    </li>

                    <li class="pc-item pc-caption">
                        <label>Data Master</label>
                        <i class="ti ti-dashboard"></i>
                    </li>
                    <li class="pc-item">
                        <a href="../pages/rekrutmen.html" class="pc-link">
                            <span class="pc-micon"><i class="ti ti-users"></i></span>
                            <span class="pc-mtext">Rekrutmen</span>
                        </a>
                    </li>
                    <li class="pc-item active">
                        <a href="../pages/werving.html" class="pc-link">
                            <span class="pc-micon"><i class="ti ti-report-analytics"></i></span>
                            <span class="pc-mtext">Werving</span>
                        </a>
                    </li>

                    <li class="pc-item pc-caption">
                        <label>Report</label>
                        <i class="ti ti-news"></i>
                    </li>
                    <li class="pc-item">
                        <a href="../pages/login.html" class="pc-link">
                            <span class="pc-micon"><i class="ti ti-file"></i></span>
                            <span class="pc-mtext">Perorangan</span>
                        </a>
                    </li>
                    <li class="pc-item">
                        <a href="../pages/register.html" class="pc-link">
                            <span class="pc-micon"><i class="ti ti-file-horizontal"></i></span>
                            <span class="pc-mtext">Rekapitulasi</span>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    <header class="pc-header">
        <div class="header-wrapper">
            <div class="me-auto pc-mob-drp">
                <ul class="list-unstyled">
                    <li class="pc-h-item pc-sidebar-collapse">
                        <a href="#" class="pc-head-link ms-0" id="sidebar-hide">
                            <i class="ti ti-menu-2"></i>
                        </a>
                    </li>
                    <li class="pc-h-item pc-sidebar-popup">
                        <a href="#" class="pc-head-link ms-0" id="mobile-collapse">
                            <i class="ti ti-menu-2"></i>
                        </a>
                    </li>
                    <li class="dropdown pc-h-item d-inline-flex d-md-none">
                        <a class="pc-head-link dropdown-toggle arrow-none m-0" data-bs-toggle="dropdown" href="#"
                            role="button" aria-haspopup="false" aria-expanded="false">
                        </a>
                    </li>
                </ul>
            </div>
            <div class="ms-auto">
                <ul class="list-unstyled">
                    <li class="dropdown pc-h-item">
                        <a class="pc-head-link dropdown-toggle arrow-none me-0" data-bs-toggle="dropdown" href="#"
                            role="button" aria-haspopup="false" aria-expanded="false">
                        </a>
                    </li>
                    <li class="dropdown pc-h-item header-user-profile">
                        <a class="pc-head-link dropdown-toggle arrow-none me-0" data-bs-toggle="dropdown" href="#"
                            role="button" aria-haspopup="false" data-bs-auto-close="outside" aria-expanded="false">
                            <img src="../assets/images/user/avatar-2.jpg" alt="user-image" class="user-avtar">
                            <span>Admin Werving</span>
                        </a>
                        <div class="dropdown-menu dropdown-user-profile dropdown-menu-end pc-h-dropdown">
                            <div class="dropdown-header">
                                <div class="d-flex mb-1">
                                    <div class="flex-shrink-0">
                                        <img src="../assets/images/user/avatar-2.jpg" alt="user-image"
                                            class="user-avtar wid-35">
                                    </div>
                                    <div class="flex-grow-1 ms-3">
                                        <h6 class="mb-1">Stebin Ben</h6>
                                        <span>UI/UX Designer</span>
                                    </div>
                                    <a href="#!" class="pc-head-link bg-transparent"><i
                                            class="ti ti-power text-danger"></i></a>
                                </div>
                            </div>
                            <ul class="nav drp-tabs nav-fill nav-tabs" id="mydrpTab" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="drp-t1" data-bs-toggle="tab"
                                        data-bs-target="#drp-tab-1" type="button" role="tab" aria-controls="drp-tab-1"
                                        aria-selected="true"><i class="ti ti-user"></i>
                                        Profile</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="drp-t2" data-bs-toggle="tab"
                                        data-bs-target="#drp-tab-2" type="button" role="tab" aria-controls="drp-tab-2"
                                        aria-selected="false"><i class="ti ti-settings"></i>
                                        Setting</button>
                                </li>
                            </ul>
                            <div class="tab-content" id="mysrpTabContent">
                                <div class="tab-pane fade show active" id="drp-tab-1" role="tabpanel"
                                    aria-labelledby="drp-t1" tabindex="0">
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-edit-circle"></i>
                                        <span>Edit Profile</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-user"></i>
                                        <span>View Profile</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-clipboard-list"></i>
                                        <span>Social Profile</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-wallet"></i>
                                        <span>Billing</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-power"></i>
                                        <span>Logout</span>
                                    </a>
                                </div>
                                <div class="tab-pane fade" id="drp-tab-2" role="tabpanel" aria-labelledby="drp-t2"
                                    tabindex="0">
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-help"></i>
                                        <span>Support</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-user"></i>
                                        <span>Account Settings</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-lock"></i>
                                        <span>Privacy Center</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-messages"></i>
                                        <span>Feedback</span>
                                    </a>
                                    <a href="#!" class="dropdown-item">
                                        <i class="ti ti-list"></i>
                                        <span>History</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <div class="pc-container">
        <div class="pc-content">
            <div class="page-header">
                <div class="page-block">
                    <div class="row align-items-center">
                        <div class="col-md-12">
                            <div class="page-header-title">
                                <h5 class="m-b-10">Tambah Laporan Perorangan</h5>
                            </div>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="rekrutmen.html">Werving</a></li>
                                <li class="breadcrumb-item"><a href="javascript: void(0)">Tambah Laporan Perorangan</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2"></div>
                <div class="col-sm-8">
                    <div class="card">
                        <div class="card-header">
                            <h5>Form Input Laporan Perorangan</h5>
                        </div>
                        <form id="multi-step-form">
                            <div class="progress-indicator" id="progress-indicator">
                                <div class="progress-step active" data-step="1">
                                    <i class="ti ti-file-text"></i>
                                </div>
                                <div class="progress-step" data-step="2">
                                    <i class="ti ti-chart-infographic"></i>
                                </div>
                                <div class="progress-step" data-step="3">
                                    <i class="ti ti-report-analytics"></i>
                                </div>
                                <div class="progress-step" data-step="4">
                                    <i class="ti ti-alert-triangle"></i>
                                </div>
                                <div class="progress-step" data-step="5">
                                    <i class="ti ti-note"></i>
                                </div>
                                <div class="progress-step" data-step="6">
                                    <i class="ti ti-file-code"></i>
                                </div>
                            </div>
                            <!-- <div class="form-step active" id="step-1">
                                <div class="card-body">
                                    <h5>I. Biodata Calon</h5>
                                    <div class="form-group">
                                        <label class="form-label" for="nama-lengkap">Nama Lengkap</label>
                                        <input type="text" class="form-control" id="nama-lengkap"
                                            name="nama-lengkap" placeholder="Masukkan Nama Lengkap" required>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="tempat-lahir">Tempat Lahir</label>
                                                <input type="text" class="form-control" id="tempat-lahir"
                                                    name="tempat-lahir" placeholder="Masukkan Tempat Lahir" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="tanggal-lahir">Tanggal Lahir</label>
                                                <input type="date" class="form-control" id="tanggal-lahir"
                                                    name="tanggal-lahir" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="prodi">Prodi</label>
                                                <input type="text" class="form-control" id="prodi" name="prodi"
                                                    placeholder="Masukkan Prodi" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="asal-panda">Asal Panda</label>
                                                <input type="text" class="form-control" id="asal-panda"
                                                    name="asal-panda" placeholder="Masukkan Asal Panda" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="nomor-tk-panda">Nomor TK. Panda</label>
                                                <input type="text" class="form-control" id="nomor-tk-panda"
                                                    name="nomor-tk-panda" placeholder="Masukkan Nomor TK Panda" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="nomor-tk-pusat">Nomor TK. Pusat</label>
                                                <input type="text" class="form-control" id="nomor-tk-pusat"
                                                    name="nomor-tk-pusat" placeholder="Masukkan Asal Pusat" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="agama">Agama</label>
                                                <select class="form-select" id="agama" name="agama" required>
                                                    <option value="">- Pilih.. -</option>
                                                    <option value="islam">Islam</option>
                                                    <option value="kristen">Kristen</option>
                                                    <option value="katolik">Katolik</option>
                                                    <option value="hindu">Hindu</option>
                                                    <option value="budha">Budha</option>
                                                    <option value="konghucu">Konghucu</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="jenis-kelamin">Jenis Kelamin</label>
                                                <select class="form-select" id="jenis-kelamin" name="jenis-kelamin"
                                                    required>
                                                    <option value="">- Pilih Jenis Kelamin -</option>
                                                    <option value="laki-laki">Laki-laki</option>
                                                    <option value="perempuan">Perempuan</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="status-perkawinan-biodata">Status</label>
                                        <select class="form-select" id="status-perkawinan-biodata" name="status-perkawinan-biodata" required>
                                            <option value="">- Status -</option>
                                            <option value="kawin">Kawin</option>
                                            <option value="belum-kawin">Belum Kawin</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="alamat-ktp">Alamat Sesuai KTP</label>
                                        <textarea class="form-control" id="alamat-ktp" name="alamat-ktp" rows="3"
                                            required></textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="nomor-hp">Nomor HP</label>
                                                <input type="number" class="form-control" id="nomor-hp"
                                                    name="nomor-hp" placeholder="Masukkan Nomor HP Aktif" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="merk-hp">Merk/Seri HP</label>
                                                <input type="text" class="form-control" id="merk-hp" name="merk-hp"
                                                    placeholder="Masukkan Merk HP" required>
                                            </div>
                                        </div>
                                    </div>
                                    <h6>Nomor IMEI</h6>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="imei1">IMEI 1</label>
                                                <input type="number" class="form-control" id="imei1" name="imei1"
                                                    placeholder="Masukkan Nomor IMEI" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="form-label" for="imei2">IMEI 2</label>
                                                <input type="number" class="form-control" id="imei2" name="imei2"
                                                    placeholder="Masukkan Nomor IMEI">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer text-end">
                                    <button type="button" class="btn btn-primary next-step">Selanjutnya</button>
                                </div>
                            </div> -->

                            <div class="form-step" id="step-2">
                                <div class="card-body">
                                    <h5>II. Alamat Akun Media Sosial Calon</h5>
                                    <div id="social-media-container">
                                        <div class="row social-media-item mb-3">
                                            <div class="col-md-4 col-sm-4">
                                                <div class="form-group">
                                                    <select class="form-select social-media-type"
                                                        name="social_media_type[]" required>
                                                        <option value="">- Pilih Jenis Akun -</option>
                                                        <option value="email">Email</option>
                                                        <option value="instagram">Instagram</option>
                                                        <option value="tiktok">Tiktok</option>
                                                        <option value="facebook">Facebook</option>
                                                        <option value="youtube">Youtube</option>
                                                        <option value="twitter">Twitter</option>
                                                        <option value="linkedin">LinkedIn</option>
                                                        <option value="other">Lainnya</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-7 col-sm-7">
                                                <div class="form-group">
                                                    <input type="text" class="form-control social-media-link"
                                                        name="social_media_link[]"
                                                        placeholder="Masukkan username / link akun" required>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 d-flex align-items-center">
                                                <button type="button" class="btn btn-danger btn-sm remove-social-media"
                                                    style="display: none;">
                                                    <i class="ti ti-minus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-success btn-sm mt-3" id="add-social-media">
                                        <i class="ti ti-plus"></i> Tambah Akun Media Sosial
                                    </button>
                                </div>
                                <div class="card-footer d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary prev-step">Kembali</button>
                                    <button type="button" class="btn btn-primary next-step">Selanjutnya</button>
                                </div>
                            </div>

                            <div class="form-step" id="step-3">
                                <div class="card-body">
                                    <h5>III. Data Kesehatan</h5>
                                    <div class="form-group">
                                        <label class="form-label" for="tinggi-badan">Tinggi Badan (cm)</label>
                                        <input type="number" class="form-control" id="tinggi-badan" name="tinggi-badan"
                                            placeholder="Masukkan tinggi badan" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="berat-badan">Berat Badan (kg)</label>
                                        <input type="number" class="form-control" id="berat-badan" name="berat-badan"
                                            placeholder="Masukkan berat badan" required>
                                    </div>
                                </div>
                                <div class="card-footer d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary prev-step">Kembali</button>
                                    <button type="button" class="btn btn-primary next-step">Selanjutnya</button>
                                </div>
                            </div>

                            <div class="form-step" id="step-4">
                                <div class="card-body">
                                    <h5>IV. Data Pendidikan</h5>
                                    <div class="form-group">
                                        <label class="form-label" for="pendidikan-terakhir">Pendidikan Terakhir</label>
                                        <input type="text" class="form-control" id="pendidikan-terakhir"
                                            name="pendidikan-terakhir" placeholder="Contoh: SMA/SMK, S1, S2" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="nama-institusi">Nama Institusi</label>
                                        <input type="text" class="form-control" id="nama-institusi"
                                            name="nama-institusi" placeholder="Contoh: Universitas Indonesia" required>
                                    </div>
                                </div>
                                <div class="card-footer d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary prev-step">Kembali</button>
                                    <button type="button" class="btn btn-primary next-step">Selanjutnya</button>
                                </div>
                            </div>

                            <div class="form-step" id="step-5">
                                <div class="card-body">
                                    <h5>V. Catatan Tambahan</h5>
                                    <div class="form-group">
                                        <label class="form-label" for="catatan">Catatan</label>
                                        <textarea class="form-control" id="catatan" name="catatan" rows="5"
                                            placeholder="Masukkan catatan atau keterangan tambahan (opsional)"></textarea>
                                    </div>
                                </div>
                                <div class="card-footer d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary prev-step">Kembali</button>
                                    <button type="button" class="btn btn-primary next-step">Selanjutnya</button>
                                </div>
                            </div>

                            <div class="form-step" id="step-6">
                                <div class="card-body">
                                    <h5>VI. Selesai - Review Data</h5>
                                    <p>Mohon periksa kembali data yang telah Anda masukkan.</p>
                                    <div id="review-data">
                                    </div>
                                </div>
                                <div class="card-footer d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary prev-step">Kembali</button>
                                    <button type="submit" class="btn btn-success">Kirim Laporan</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-sm-2"></div>
            </div>
        </div>
    </div>
    <footer class="pc-footer">
        <div class="footer-wrapper container-fluid">
            <div class="row">
                <div class="col-sm my-1">
                    <p class="m-0">Copyright Â© <a href="#">Satsiber TNI 2025</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="../assets/js/plugins/apexcharts.min.js"></script>
    <script src="../assets/js/pages/dashboard-default.js"></script>
    <script src="../assets/js/plugins/popper.min.js"></script>
    <script src="../assets/js/plugins/simplebar.min.js"></script>
    <script src="../assets/js/plugins/bootstrap.min.js"></script>
    <script src="../assets/js/fonts/custom-font.js"></script>
    <script src="../assets/js/pcoded.js"></script>
    <script src="../assets/js/plugins/feather.min.js"></script>

    <script>
        layout_change('light');
        change_box_container('false');
        layout_rtl_change('false');
        preset_change("preset-1");
        font_change("Public-Sans");

        // JavaScript untuk Multi-Step Form
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('multi-step-form');
            const formSteps = form.querySelectorAll('.form-step');
            const progressSteps = document.querySelectorAll('.progress-step');
            let currentStep = 0; // Index of the current active step

            function showStep(stepIndex) {
                // Sembunyikan semua langkah form
                formSteps.forEach((step, index) => {
                    step.classList.remove('active');
                    if (index < stepIndex) {
                        step.classList.add('completed');
                    } else {
                        step.classList.remove('completed');
                    }
                });

                // Tampilkan langkah yang aktif
                formSteps[stepIndex].classList.add('active');

                // Update progress indicator
                progressSteps.forEach((pStep, index) => {
                    pStep.classList.remove('active', 'completed');
                    if (index === stepIndex) {
                        pStep.classList.add('active');
                    } else if (index < stepIndex) {
                        pStep.classList.add('completed');
                    }
                });

                // Jika di step terakhir, tampilkan data review
                if (stepIndex === formSteps.length - 1) {
                    reviewFormData();
                }
            }

            function validateStep(stepIndex) {
                const currentFormStep = formSteps[stepIndex];
                const inputs = currentFormStep.querySelectorAll('[required]');
                let isValid = true;
                inputs.forEach(input => {
                    if (!input.value.trim()) { // Check for empty values
                        isValid = false;
                        input.classList.add('is-invalid'); // Add Bootstrap validation style
                    } else {
                        input.classList.remove('is-invalid');
                    }
                });
                return isValid;
            }

            function nextStep() {
                if (validateStep(currentStep)) {
                    if (currentStep < formSteps.length - 1) {
                        currentStep++;
                        showStep(currentStep);
                    }
                } else {
                    alert('Harap lengkapi semua bidang yang wajib diisi sebelum melanjutkan.');
                }
            }

            function prevStep() {
                if (currentStep > 0) {
                    currentStep--;
                    showStep(currentStep);
                }
            }

            // Function to gather and display form data for review
            function reviewFormData() {
                const reviewDiv = document.getElementById('review-data');
                let html = '<h6>Ringkasan Data:</h6>';
                const formData = new FormData(form);

                // For standard fields (not dynamic arrays)
                const standardFields = [
                    'nama-lengkap', 'tempat-lahir', 'tanggal-lahir', 'prodi', 'asal-panda',
                    'nomor-tk-panda', 'nomor-tk-pusat', 'agama', 'jenis-kelamin',
                    'status-perkawinan-biodata', 'alamat-ktp', 'nomor-hp', 'merk-hp',
                    'imei1', 'imei2', 'tinggi-badan', 'berat-badan',
                    'pendidikan-terakhir', 'nama-institusi', 'catatan'
                ];

                standardFields.forEach(name => {
                    if (formData.has(name)) {
                        let value = formData.get(name);
                        let label = document.querySelector(`label[for="${name}"]`);
                        let labelText = label ? label.textContent : name.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                        html += `<p><strong>${labelText}:</strong> ${value || '-'}</p>`;
                    }
                });

                // For dynamic social media fields
                const socialMediaTypes = form.querySelectorAll('.social-media-type');
                const socialMediaLinks = form.querySelectorAll('.social-media-link');

                if (socialMediaTypes.length > 0) {
                    html += `<h6>Data Media Sosial:</h6>`;
                    socialMediaTypes.forEach((typeInput, index) => {
                        const type = typeInput.value;
                        const link = socialMediaLinks[index].value;
                        if (type && link) {
                            html += `<p><strong>Jenis:</strong> ${type}, <strong>Link/Username:</strong> ${link}</p>`;
                        }
                    });
                }

                reviewDiv.innerHTML = html;
            }


            // Event Listeners for navigation buttons
            form.querySelectorAll('.next-step').forEach(button => {
                button.addEventListener('click', nextStep);
            });

            form.querySelectorAll('.prev-step').forEach(button => {
                button.addEventListener('click', prevStep);
            });

            // Event Listeners for progress indicator clicks
            progressSteps.forEach((pStep, index) => {
                pStep.addEventListener('click', () => {
                    // Allow clicking on previous/completed steps to go back
                    if (index <= currentStep) { // Only allow going back to completed or current steps
                        currentStep = index;
                        showStep(currentStep);
                    }
                });
            });


            // Handle form submission
            form.addEventListener('submit', function (event) {
                event.preventDefault(); // Mencegah form submit default

                // Di sini Anda bisa mengumpulkan semua data form dan mengirimkannya ke server
                const formData = new FormData(form);
                const data = {};

                // Process regular fields
                for (let [key, value] of formData.entries()) {
                    // Skip dynamic array fields initially
                    if (!key.includes('[]')) {
                        data[key] = value;
                    }
                }

                // Process dynamic social media fields
                const socialMediaData = [];
                const socialMediaTypes = form.querySelectorAll('select[name="social_media_type[]"]');
                const socialMediaLinks = form.querySelectorAll('input[name="social_media_link[]"]');

                socialMediaTypes.forEach((typeInput, index) => {
                    if (typeInput.value && socialMediaLinks[index].value) {
                        socialMediaData.push({
                            type: typeInput.value,
                            link: socialMediaLinks[index].value
                        });
                    }
                });
                data['social_media'] = socialMediaData; // Add array to data object

                console.log('Form Data Dikirim:', data);
                alert('Form berhasil dikirim! Lihat di konsol untuk data.');

                // Anda bisa menambahkan AJAX request ke backend di sini
                // fetch('/api/submit-form', {
                //     method: 'POST',
                //     body: JSON.stringify(data),
                //     headers: {
                //         'Content-Type': 'application/json'
                //     }
                // })
                // .then(response => response.json())
                // .then(result => {
                //     console.log('Success:', result);
                //     alert('Form berhasil dikirim!');
                // })
                // .catch(error => {
                //     console.error('Error:', error);
                //     alert('Terjadi kesalahan saat mengirim form.');
                // });
            });

            // --- Dynamic Form Fields for Social Media (Step 2) ---
            const socialMediaContainer = document.getElementById('social-media-container');
            const addSocialMediaBtn = document.getElementById('add-social-media');

            // Function to add a new social media input block
            function addSocialMediaField() {
                const newSocialMediaItem = document.createElement('div');
                newSocialMediaItem.classList.add('row', 'social-media-item', 'mb-3');
                newSocialMediaItem.innerHTML = `
                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <select class="form-select social-media-type" name="social_media_type[]" required>
                                <option value="">- Pilih Jenis Akun -</option>
                                <option value="email">Email</option>
                                <option value="instagram">Instagram</option>
                                <option value="tiktok">Tiktok</option>
                                <option value="facebook">Facebook</option>
                                <option value="youtube">Youtube</option>
                                <option value="twitter">Twitter</option>
                                <option value="linkedin">LinkedIn</option>
                                <option value="other">Lainnya</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-7 col-sm-7">
                        <div class="form-group">
                            <input type="text" class="form-control social-media-link" name="social_media_link[]"
                                placeholder="Masukkan username / link akun" required>
                        </div>
                    </div>
                    <div class="col-md-1 col-sm-1 d-flex align-items-center">
                        <button type="button" class="btn btn-danger btn-sm remove-social-media">
                            <i class="ti ti-minus"></i>
                        </button>
                    </div>
                `;
                socialMediaContainer.appendChild(newSocialMediaItem);
                updateRemoveButtonsVisibility(); // Update button visibility after adding
            }

            // Function to remove a social media input block
            function removeSocialMediaField(event) {
                if (event.target.classList.contains('remove-social-media') || event.target.closest('.remove-social-media')) {
                    const itemToRemove = event.target.closest('.social-media-item');
                    if (itemToRemove) {
                        itemToRemove.remove();
                        updateRemoveButtonsVisibility(); // Update button visibility after removing
                    }
                }
            }

            // Function to update the visibility of remove buttons
            function updateRemoveButtonsVisibility() {
                const allSocialMediaItems = socialMediaContainer.querySelectorAll('.social-media-item');
                // Sembunyikan semua tombol hapus dulu
                allSocialMediaItems.forEach(item => {
                    item.querySelector('.remove-social-media').style.display = 'none';
                });

                if (allSocialMediaItems.length > 1) {
                    // Tampilkan semua tombol hapus jika ada lebih dari satu item
                    allSocialMediaItems.forEach(item => {
                        item.querySelector('.remove-social-media').style.display = 'block';
                    });
                }
            }

            // Event listener for "Tambah Akun Media Sosial" button
            addSocialMediaBtn.addEventListener('click', addSocialMediaField);

            // Event listener for removing social media fields (delegated event)
            socialMediaContainer.addEventListener('click', removeSocialMediaField);

            // Initial call to set correct button visibility
            updateRemoveButtonsVisibility();


            // Pastikan step pertama terlihat saat halaman dimuat
            showStep(currentStep);
        });
    </script>

</body>

</html>